<view class="wrap">
  <view class="wrap-tab">
    <view class="{{currentTab==index ? 'tab-li-ture tab-li-ture-other' : 'tab-li tab-li-ture-other'}}"
    wx:for="{{tabList}}"
    wx:key="index"
    data-current="{{index}}"
    data-id="{{item.id}}"
    bindtap="clickTab">{{item.name}}</view>
  </view>
  <!-- li部分 -->
  <view class="wrap-box" wx:if="{{orderList.length>0}}">
    <view class="wrap-box-li" bindtap="gotoDetail" wx:for="{{orderList}}" wx:key="index" data-id="{{item.mainOrderNo}}">
      <view class="box-li-top">
        <view class="li-top-right">
          <view class="top-right-title" wx:if="{{item.mainOrderNo}}">订单号：{{item.mainOrderNo}}</view>
          <view class="top-right-time"><text wx:if="{{item.createTime}}">{{item.createTime}}</text><text wx:if="{{item.value}}">优惠金额：{{item.value}}元</text></view>
        </view>
        <!-- <view class="li-top-status" style="color: #1F7DDF;">已支付</view> -->
      </view>
      <view class="box-li-content">
        <view class="li-content-line" wx:for="{{item.productList}}" wx:for-item="itemSmall" wx:key="indexSmall" wx:for-index="indexSmall">
          <view class="li-top-img">
            <image src="{{itemSmall.mainImg}}"></image>
          </view>
          <view class="content-line-box">
            <view class="content-line-left">{{itemSmall.productName}}<text>x{{itemSmall.productNum}}</text></view>
            <view class="content-line-right"><text>￥</text>{{itemSmall.productPrice}}</view>
          </view>
        </view>
      </view>
      <view class="box-li-btn" catchtap="clickCancel" wx:if="{{item.orderState != 3}}">取消订单</view>
      <view class="box-li-btn box-li-btn-orange" wx:if="{{item.orderState == 2 || item.orderState == 3}}">申请退货</view>
      <!-- <view class="box-li-btn box-li-btn-orange" catchtap="gotoProgress">查看进度</view> -->
    </view>
  </view>
  <view class="no-data" wx:else>
    <image src="{{url}}tabs/no-data.png" mode="widthFix"></image>
    <view class="no-data-text">暂无数据</view>
  </view>
  <!-- 取消按钮对话框 -->
  <i-modal title="提示" visible="{{ visibleCancel }}" bind:ok="handleCancelTrue" bind:cancel="handleCancelFalse">
    <view>是否确定取消该订单</view>
  </i-modal>
  <i-modal title="提示" visible="{{ visible }}" bind:ok="handleOk" bind:cancel="handleClose">
    <view>您尚未登录，是否去登录？</view>
  </i-modal>
  <i-toast id="toast" />
</view>